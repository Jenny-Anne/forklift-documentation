// Module included in the following assemblies:
//
// * documentation/doc-Migration_Toolkit_for_Virtualization/master.adoc

:_mod-docs-content-type: REFERENCE
[id="known-issues-shared-disks_{context}"]
= Known issue: Cyclic shared disk dependencies

[role="_abstract"]
A known issue for migrating shared disks is that virtual machines (VMs) with cyclic shared disk dependencies cannot be migrated successfully.

* Explanation: When `migrateSharedDisks` is set to `true`, {project-short} migrates each VM in the plan, one by one, and any shared disks attached to it, without determining if a shared disk was already migrated. 

In the case of 2 VMs sharing one disk, there is no problem. {project-short} transfers the shared disk and attaches the 2 VMs to the shared disk after the migration. 

However, if there is a cyclic dependency of shared disks between 3 or more VMs, {project-short} either duplicates or omits one of the shared disks. The figure that follows illustrates the simplest version of this problem.

.Simple example of cyclic shared disks
image::simple-cyclic-shared-disks.png[Simple cyclic shared disk dependencies]

In this case, the VMs and shared disks cannot be migrated in the same `Plan` CR. Although this problem could be solved using `migrateSharedDisks` and 2 `Plan` CRs, it illustrates the basic issue that must be avoided in migrating VMs with shared disks.
